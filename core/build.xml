<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<project basedir="." default="install" name="orient-database-core">
	<property environment="env" />
	<property name="project.src" value="src" />
	<property name="project.lib" value="lib" />
	<property name="project.doc" value="doc" />
	<property name="project.build" value="bin" />
	<property name="project.dist" value="dist" />
	<property name="project.depends" value="" />
	<property name="project.mainclass" value="" />

	<path id="project.classpath">
		<pathelement location="${project.build}">
		</pathelement>
		<fileset dir="${project.lib}" includes="**/*.jar" />
	</path>

	<target name="init">
		<mkdir dir="${project.build}">
		</mkdir>
	</target>
	<target name="clean">
		<delete dir="${project.build}">
		</delete>
	</target>
	
	<target name="compile" depends="init">
		<echo message="${ant.project.name}: ${ant.file}">
		</echo>

		<javac destdir="${project.build}">
			<src path="${project.src}">
			</src>
			<classpath refid="project.classpath">
			</classpath>
		</javac>
	</target>

	<target name="install-zip">
		<mkdir dir="${project.dist}">
		</mkdir>
		<delete file="${project.dist}/${ant.project.name}.zip">
		</delete>
		<zip destfile="${project.dist}/${ant.project.name}.zip" basedir="." excludes="**.svn/">
		</zip>
	</target>

	<target name="install" depends="compile">
		<mkdir dir="${project.dist}">
		</mkdir>
		<delete file="${project.dist}/${ant.project.name}.war">
		</delete>
		<jar compress="true" destfile="${project.dist}/${ant.project.name}.jar">
		</jar>
	</target>

	<target name="javadocs" depends="compile">
		<javadoc classpathref="project.classpath" sourcepath="${project.src}" packagenames="com.orientechnologies.*" destdir="${project.doc}" private="true">
			<doclet name="org.umlgraph.doclet.UmlGraphDoc" path="${project.lib}/UMLGraph.jar">
				<param name="-hide" value="java.*" />
				<param name="-collpackages" value="java.util.*" />
				<param name="-qualify" />
				<param name="-postfixpackage" />
				<param name="-nodefontsize" value="9" />
				<param name="-nodefontpackagesize" value="7" />
				<param name="-link" value="http://java.sun.com/j2se/1.5.0/docs/guide/javadoc/doclet/spec" />
				<param name="-link" value="http://java.sun.com/j2se/1.5/docs/api" />
			</doclet>
		</javadoc>
	</target>
</project>
