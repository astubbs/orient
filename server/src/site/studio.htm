<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OrientDB Server (www.orientechnologies.com)</title>
<meta name="title" content="Document | DBMS | Database | Java" />
<meta name="description" content="OrientDB Server" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="stylesheet" type="text/css" media="screen" href="styles/redmond/jquery-ui-1.8.1.custom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="styles/ui.jqgrid.css" />

<style>
body {
	font-family: Arial;
}
</style>

<script src="js/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="js/jquery-ui-1.8.1.custom.min.js" type="text/javascript"></script>
<script src="js/i18n/grid.locale-en.js" type="text/javascript"></script>
<script src="js/jquery.jqGrid.min.js" type="text/javascript"></script>
<script src="js/jQueryRotate.js" type="text/javascript"></script>
<script src="js/orient.js" type="text/javascript"></script>

<script type="text/javascript">
    function clear(component){
    	component.value = "";
    }

    function response(data){
    	var result = data["result"];
        var columnNames = new Array();
        
        // CREATE COLUMN NAMES
        for (row = 0; row < result.length; row++) {
            for (col in result[row]) {
                if( columnNames[col] == undefined ){
                    columnNames[col] = col;
                }
            }
        }
        
        // CREATE COLUMN MODEL
        var columnModel = new Array();

        columnModel.push( {"name" : "_recid", "index" : "_recid", "width" : 30} );
        columnModel.push( {"name" : "_version", "index" : "version", "width" : 30} );
        
        for (col in columnNames) {
        	columnModel.push( {"name" : columnNames[col], "index" : columnNames[col], "width" : 80} );
        }
        
        jQuery("#list").jqGrid( {
            datatype: "local",
            height: 250,
            autowidth: true,
            rownumbers: true,
            multiselect: false,
            rowNum:10, rowList:[10,20,30], 
            pager: '#pager',
            sortname: 'id',
            viewrecords: true,
            sortorder: "desc",
            caption: "Resultset",
            colNames: columnNames,
            colModel: columnModel });

        jQuery("#list").jqGrid('navGrid','#pager', {edit:true,add:true,del:true} ); 
        
        for(var i = 0; i <= result.length; i++)
          jQuery("#list").jqGrid('addRowData', i+1, result[i]);
      }
      
      function error(content, status, obj){
          alert("Error: " + content.value + ", obj: " + obj);
      }

    function executeQuery(){
        jQuery("#list").GridUnload();

        $.getJSON( $('#server').val() + '/query/' + $('#database').val() + '/' + $('#queryText').val() + '/' + $('#limit').val(), response);
    }

    function clearResultset(){
        jQuery("#list").jqGrid('clearGridData');
    }
    
    jQuery(document).ready(function(){
        $("#tabs").tabs();
    }); 
</script>
</head>

<body onload="orient_init()">
<table align="center" width="1000">
	<tr>
		<td align="left"><a href="http://www.orientechnologies.com/orient-db.htm"><img border="0" src="images/orient_db.png" /></a></td>
	</tr>
	<tr>
		<td class="ui-widget">Server: <input class="ui-widget" id="server" size="30" value="http://localhost:2480" /> Database: <input
			class="ui-widget" id="database" size="20" value="demo" /></td>
	</tr>
	<tr>
		<td>
		<div id="tabs">
		<ul>
			<li><a href="#fragment-1"><span>Query</span></a></li>
			<li><a href="#fragment-2"><span>Command</span></a></li>
			<li><a href="#fragment-3"><span>Raw access</span></a></li>
		</ul>
		<div id="fragment-1">
		<table style="width: 100%;">
			<tr>
				<td class="ui-widget" valign="top">Query</td>
				<td class="ui-widget" valign="top"><textarea id="queryText" cols="88" rows="5" title="value">select from Address</textarea></td>
				<td class="ui-widget" valign="top" align="left">
				<table>
					<tr>
						<td class="ui-widget"><a href="javascript:clear(queryText)"><img border="0" src="images/clear.png" /></a></td>
					</tr>
				</table>
				</td>
			</tr>
			<tr>
				<td class="ui-widget"><a href="javascript:executeQuery()">Execute</a></td>
				<td class="ui-widget" align="right">Limit: <input id="limit" size="5" value="20" /></td>
			</tr>
			<tr>
				<td valign="top" colspan="2">
				<table id="list" class="ui-widget"></table>
				<div id="pager" class="ui-widget"></div>
				</td>
				<td valign="top"><a href="javascript:clearResultset()"><img border="0" src="images/clear.png" /></a></td>
			</tr>
		</table>
		</div>
		<div id="fragment-2">
		<table style="width: 100%;">
			<tr>
				<td valign="top"><textarea id="commandText" class="ui-widget" cols="88" rows="5" title="value"></textarea> <a
					href="javascript:clear(commandText)"><img border="0" src="images/clear.png" /></a></td>
			</tr>
		</table>
		</div>
		<div id="fragment-3">
		<table style="width: 100%;">
			<tr>
				<td align="left"></td>
				<td align="left">(Operation)</td>
				<td align="left">(Database)</td>
				<td align="left">(Arguments)</td>
			</tr>
			<tr>
				<td>http://localhost:2480/</td>
				<td><input id="operation" size="12" value="cluster" />/</td>
				<td><input id="database" size="15" value="demo" />/</td>
				<td><input id="arg1" size="40" value="arguments" /></td>
			</tr>
		</table>
		</div>
		</div>
		</td>
	</tr>
	<tr>
		<td align="center">To know more information visit: <a href="http://www.orientechnologies.com">http://www.orientechnologies.com</a></td>
	</tr>
</table>
</body>
<script type="text/javascript">orient_google_stats();</script>
</html>